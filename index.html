<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>T20WC 2026 â€“ Fantasy Squad</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<header class="app-header">
  <img src="logos/BFL.png" class="logo left">
  <h1>T20WC 2026 â€“ Fantasy Squad Selection</h1>
  <img src="logos/T20WC.png" class="logo right">
</header>

<div id="lockPanel" class="lock-panel floating-timer">
  <p id="countdownText"></p>
</div>

<div id="appRoot">
  <!-- everything except header + timer -->

  <div class="instructions" id="instructionsBox">
  <div class="instructions-header" onclick="toggleInstructions()">
    ğŸ“˜ Instructions
    <span id="instructionsToggle">â–¼</span>
  </div>

  <ul class="instructions-list" id="instructionsContent">
    <li>
      <strong>Squad Size & Credits</strong>
      <span>Select exactly <b>15 players</b> within <b>150 credits</b>.</span>
    </li>

    <li>
      <strong>Player Composition</strong>
      <ul class="sub-rules">
        <li id="rule-wk">ğŸ§¤ At least 1 Wicket-Keeper</li>
        <li id="rule-bat">ğŸ At most 6 Batters</li>
        <li id="rule-bowl">ğŸ¯ At most 6 Bowlers</li>
        <li id="rule-ar">âš–ï¸ At most 4 All-Rounders</li>
        <li id="rule-team">ğŸŒ Max 4 players from one team</li>
      </ul>
    </li>

    <li>
      ğŸ” Use <b>filters</b> to quickly find players.
    </li>

    <li>
      âš¡ Use <b>Auto Pick</b> to generate a smart squad.
    </li>

    <li>
      âœ… When ready, click <b>Submit Squad</b> to lock your team.
    </li>
  </ul>
</div>
  
  <div class="toolbar">
  <div class="filters">
    <input type="text" id="search" placeholder="Search player">
    <select id="categoryFilter">
      <option value="">All Categories</option>
      <option value="Batter">Batter</option>
      <option value="Bowler">Bowler</option>
      <option value="All-Rounder">All-Rounder</option>
      <option value="Wicket-Keeper">Wicket-Keeper</option>
    </select>
    <select id="teamFilter">
      <option value="">All Teams</option>
    </select>
    <select id="groupFilter">
      <option value="">All Groups</option>
      <option value="A">Group A</option>
    <option value="B">Group B</option>
    <option value="C">Group C</option>
    <option value="D">Group D</option>
  </select>
  <select id="sortCredits">
    <option value="">Sort by Credits</option>
    <option value="asc">Low â†’ High</option>
    <option value="desc">High â†’ Low</option>
  </select>
</div>

<button onclick="autoPick()" type="button">âš¡ Auto Pick</button>
</div>

<div class="container">
  
  <div class="players" id="playerList"></div>
  
  <div class="side-panel">
    
    <div class="user-box">
      <input type="text" id="userName" placeholder="Enter your name">
      <button type="button" onclick="saveUser()">Save Name</button>
    </div>

    <!-- CURRENT SQUAD -->
  <div class="squad">
    <h3>Your Squad (Max 15)</h3>

    <table id="squadList" class="squad-table"></table>

    <div class="validation" id="validationPanel"></div>

    <p>Total Credits: <span id="creditsUsed">0</span> / 150</p>

    <button type="button" id="submitBtn" onclick="openPreview()" disabled>
      Submit Squad
    </button>

    <button id="clearBtn" type="button" onclick="clearSquad()">Clear Squad</button>

    <p id="status"></p>
  </div>

  <!-- LAST SUBMITTED (READ-ONLY) -->
  <div class="squad readonly">
    <h3>Last Submitted Squad</h3>
    <p id="lastSubmittedMeta" class="muted"></p>
    <table id="lastSquadTable" class="squad-table"></table>
  </div>

</div>

</div>

<script src="players.js"></script>
<script src="script.js"></script>

<div id="previewModal" class="modal">
  <div class="modal-box">
    <h3>Confirm Your Squad</h3>
    <div id="previewList"></div>
    <p><strong>Total Credits:</strong> <span id="previewCredits"></span></p>
    <div class="modal-actions">
      <button onclick="closePreview()">Cancel</button>
      <button class="primary" onclick="confirmSubmit()">Confirm & Submit</button>
    </div>
  </div>
</div>

<div id="overlay">
  <div class="spinner"></div>
  <p>Submitting your squadâ€¦</p>
</div>

</body>
</html>
