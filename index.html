<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon.png">
  <title>T20WC 2026 â€“ BFL</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Teko:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
<div class="side-pattern left"></div>
<div class="side-pattern right"></div>

<header class="app-header">
  <img src="images/bfl-logo.png" class="logo left">
  <h1>T20WC 2026 â€“ Fantasy Squad Selection</h1>
  <img src="images/t20wc-logo1.svg" class="logo right">
</header>

<div id="lockPanel" class="floating-timer">
  <p id="countdownText"></p>
</div>

<div id="appRoot">

  <!-- INSTRUCTIONS -->
  <div class="instructions" id="instructionsBox">
    <div class="instructions-header" onclick="toggleInstructions()">
      ğŸ“˜ Instructions
      <span id="instructionsToggle">â•</span>
    </div>

    <ul class="instructions-list" id="instructionsContent">
      <li>
        <strong>Squad Size & Credits</strong>
        <span>Select exactly <b>15 players</b> within <b>150 credits</b>.</span>
      </li>

      <li>
        <strong>Player Composition</strong>
        <ul class="sub-rules">
          <li id="rule-wk">ğŸ§¤ At least 1 Wicket-Keeper</li>
          <li id="rule-bat">ğŸ At most 5 Batters</li>
          <li id="rule-bowl">ğŸ¯ At most 5 Bowlers</li>
          <li id="rule-ar">âš–ï¸ At most 5 All-Rounders</li>
          <li id="rule-team">ğŸŒ Max 4 players from one team</li>
        </ul>
      </li>

      <li>ğŸ” Use <b>filters</b> to quickly find players.</li>
      <li>âœ… When ready, click <b>Submit Squad</b> to lock your team.</li>
      <li>â¡ï¸ Once Submitted, Navigate to <b>Pick Starting XI</b> to lock your Playing XI for Group Stage Matches.</li>
    </ul>
  </div>

  <!-- TOOLBAR -->
  <div class="toolbar">

    <div class="filters">
      <input type="text" id="search" placeholder="Search Player by Name">

      <select id="categoryFilter">
        <option value="">All Categories</option>
        <option value="Batter">Batter</option>
        <option value="Bowler">Bowler</option>
        <option value="All-Rounder">All-Rounder</option>
        <option value="Wicket-Keeper">Wicket-Keeper</option>
      </select>

      <select id="teamFilter">
        <option value="">All Teams</option>
      </select>

      <select id="groupFilter">
        <option value="">All Groups</option>
        <option value="A">Group A</option>
        <option value="B">Group B</option>
        <option value="C">Group C</option>
        <option value="D">Group D</option>
      </select>

      <select id="sortCredits">
        <option value="">Sort by Credits</option>
        <option value="asc">Low â†’ High</option>
        <option value="desc">High â†’ Low</option>
      </select>

      <button id="clearFiltersBtn" class="btn">
        Clear All Filters
      </button>
    </div>

    <!-- ACTION BUTTONS (RIGHT SIDE) -->
    <div class="toolbar-actions">
      <button
        type="button"
        id="submitBtn"
        class="btn btn-primary"
        onclick="openPreview()"
        disabled>
        Submit Squad
      </button>

      <button
        type="button"
        id="clearBtn"
        class="btn btn-danger"
        onclick="clearSquad()"
        disabled>
        Clear Squad
      </button>
      <button
        type="button"
        id="startingXiBtn"
        class="btn btn-success"
        onclick="goToStartingXI()"
        style="display:none">
        â¡ Pick Starting XI
      </button>

    </div>

  </div>

  <!-- MAIN CONTENT -->
  <div class="container">

    <div class="players" id="playerList"></div>

    <div class="side-panel">

      <div class="user-box">
        <input type="text" id="userName" placeholder="Enter your name">
        <button type="button" class="btn" onclick="saveUser()">Save Name</button>
      </div>

      <!-- CURRENT SQUAD -->
<div class="squad">
  <h3>Your T20WC 2026 Squad</h3>

  <p>
    Players Selected:
    <span id="playersCount">0</span> / 15
  </p>

  <p>
    Total Credits:
    <span id="creditsUsed">0</span> / 150
  </p>

  <p id="status"></p>

  <!-- VALIDATION FIRST -->
  <div class="validation" id="validationPanel"></div>

  <!-- THEN SQUAD LIST -->
  <table id="squadList" class="squad-table"></table>
</div>


      <!-- LAST SUBMITTED -->
      <div class="squad readonly">
        <h3>Last Submitted Squad</h3>
        <p id="lastSubmittedMeta" class="muted"></p>
        <table id="lastSquadTable" class="squad-table"></table>
      </div>

    </div>
  </div>

</div>

<script src="players.js"></script>
<script src="script.js"></script>

<!-- PREVIEW MODAL -->
<div id="previewModal" class="modal">
  <div class="modal-box">
    <h3>Confirm Your Squad</h3>
    <div id="previewList"></div>
    <p><strong>Total Credits:</strong> <span id="previewCredits"></span></p>

    <div class="modal-actions">
      <button type="button" class="btn btn-danger btn-block" onclick="closePreview()">Cancel</button>
      <button type="button" class="btn btn-success btn-block" onclick="confirmSubmit()">ğŸ”’ Lock & Submit</button>
    </div>
  </div>
</div>

<!-- OVERLAY -->
<div id="overlay">
  <div class="spinner"></div>
  <p id="overlayText">Loadingâ€¦</p>
</div>

<!-- FOOTER -->
<footer class="site-footer">
  <div class="footer-divider"></div>

  <div class="footer-content">
    <div class="footer-logos">
      <img src="images/bfl-logo.png" alt="bfl-logo" class="footer-logo" />
      <img src="images/t20wc-2026-logo2.svg" alt="t20wc26-logo" class="footer-logo" />
    </div> 

    <p class="footer-copy">
      Copyright 2026 BFL. All rights reserved.
    </p>
  </div>
</footer>

</body>
</html>
